---
import { MY_SHOWS as showsList, HOBBIES as hobbies, RESUME, omdbApiKey } from "@config";
import MoviesGallery from "@components/MoviesGallery";

import getShowsData from "@utils/shows";

const showsData = await getShowsData(omdbApiKey, showsList);

const MESSAGE_OPTIONS = [
  {name: "Request CV", value: "report", icon: "feather:thumbs-up"},
  {name: "Suggest", value: "suggestion", icon: "feather:thumbs-up"},
  {name: "Other", value: "other", icon: "feather:thumbs-up"},
]

import { techStackByType } from "@utils/getTechStack";
import { Image } from "astro-preload/components";
import { Icon } from "astro-icon";
import Layout from "@layouts/Layout.astro";
import Socials from "@components/Socials.astro";
---

<Layout ogImage="/assets/images/fallback.png" title="about" description="Mohammed Nasser's personal blog">
  <article>

    <h1 class="py-6 text-start text-2xl tracking-wider sm:text-3xl">About</h1>
    <div class="flex flex-col gap-12">
    <section class="hidden">
      <h2>Contact Me</h2>
      <label  class="relative block">
        <span class="absolute inset-y-0 left-0 flex items-center pl-2 opacity-75">
          <Icon class="text-skin-base/50 size-6" name="ic:baseline-mail" />
        </span>
        <input
          id="search-input"
          class=" px-[0.75rem] py-[0.32rem] indent-8 w-full justify-self-center bg-skin-card/30 rounded-lg text-md  block border border-skin-fill 
        border-opacity-40 bg-skin-fill 
         placeholder:italic  placeholder:text-slate-400/80
        focus:border-skin-accent focus:outline-none"
          placeholder="john@example.com"
          type="email"
          name="email"
          onchange=""
          autocomplete="on"
          required
        />
      </label>
      <label  class="relative block">
        <select
          class=" px-[0.75rem] py-[0.32rem]  w-full justify-self-center bg-skin-card/30 rounded-lg text-md  block border border-skin-fill 
        border-opacity-40 bg-skin-fill 
        focus:border-skin-accent focus:outline-none invalid:text-slate-400/80"
          name="search"
          onchange=""
          required
          autocomplete="off"

        >
        <option class="text-opacity-75 " value="" disabled selected > Message Subject...</option>
        {MESSAGE_OPTIONS.map(({name, value, icon}) => (
          <option value={value} class="text-lg font-bold">{name} <Icon class="size-8 bg-red-500" name={icon} /></option>
        ))}
        </select>
      </label>

      <label  class="relative block">
        <textarea
          class=" px-[0.75rem] py-[0.32rem] h-32  w-full justify-self-center bg-skin-card/30 rounded-lg text-md  block border border-skin-fill 
        border-opacity-40 bg-skin-fill 
         placeholder:italic placeholder:text-opacity-75 placeholder:text-slate-400/80 
        focus:border-skin-accent focus:outline-none"
          placeholder="Message..."
          required
          name="message"
          autocomplete="off"
        />
      </label>
  
    </section>
    <section class="hidden">
      <h2>Resume</h2>
      <a class="text-lg py-2 px-4 rounded-lg bg-skin-accent/30 w-1/2 place-self-center justify-center place-content-center" href={RESUME} download>
        <Icon class="fill-skin-base" name="lucide:download" />
      <span>
        Download my resume
      </span>
      </a>
    </section>
    <section>
      <h2>Education</h2>
      <div class="flex flex-col">
        <a class="text-lg font-bold" href="http://engh.helwan.edu.eg/">
          Faculty of Engineering, Helwan University
        </a>
        <span class="font-extralight"
          >Computer and Communication Department 2021-2026</span
        >
      </div>
    </section>
    <section>
      <h2>Tech Stack</h2>
      <ul class="flex flex-col gap-6">
        {
          Object.entries(techStackByType).map(([type, stack]) => {
            return (
              <div class="flex flex-col gap-1">
                <div class="flex flex-col gap-1 bg-skin-fill  p-5">
                  <h3>{type}</h3>
                  <div class="flex gap-20 overflow-visible  overflow-x-auto rounded-lg p-4">
                  {stack.map(({ name, icon, url }) => (
                    
                    <li class="stack group/tech relative   flex flex-col justify-center  overflow-visible ">
                      <a class="absolute -top-6 scale-75 place-self-center font-bold  transition-opacity opacity-0 group-hover/tech:opacity-100 z-[1000]   whitespace-nowrap" href={url}> {name}</a>
                      <Icon class="grid size-10 cursor-pointer place-self-center transition-all hover:scale-125 " name={icon} />
                    </li>
                    ))}
                    </div>
                    </div>
                    </div>
                );
          })
        }
      </ul>
    </section>
    <section>
      <h2>My Contacts</h2>
      <Socials class="scale-100 place-self-start" />
    </section>
    <section>
      <h2>Intersest And Activities</h2>
      <ul class="grid sm:grid-cols-3 grid-cols-2  justify-center gap-3">
        {
          hobbies.map(hobby => (
            <li class="px-5 gap-5 flex bg-skin-card/60 rounded-lg p-2">
              <Icon name={hobby.icon} class="size-8" />
              {hobby.name}
            </li>
          ))
        }
      </ul>
    </section>
    <section>
      <h2>Movies and TV Suggestions</h2>
      <MoviesGallery showsData={showsData} client:load />
    </section>
  </div>
</article>
</Layout>

<style>
  section {
    @apply flex  w-full flex-col gap-2 justify-self-start;
  }

  h2 {
    @apply text-start text-xl tracking-wider  sm:text-2xl;
  }
</style>
