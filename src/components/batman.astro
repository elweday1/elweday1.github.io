

<svg id="batman" class="z-[100] absolute pointer-events-none w-full h-full top-0 left-0" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <filter id="sofGlow" height="300%" width="300%" x="-75%" y="-75%">
        <feMorphology operator="dilate" id="thicken" radius="var(--width)" in="SourceAlpha" result="thicken" />
        <feGaussianBlur in="thicken" stdDeviation="3" result="blurred" />
        <feFlood flood-color="rgb(var(--color-accent))" result="glowColor" />
        <feComposite in="glowColor" in2="blurred" operator="in" result="softGlow_colored" />
        <feMerge>
          <feMergeNode in="softGlow_colored"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
      <pattern id="pattern" x="0" y="0" width="1" height="1" viewBox="0 0 680 295">
        <path id="glowingBat" filter="url(#sofGlow)"  fill="black" style="opacity: var(--opacity);"" class="stroke-skin-accent" stroke-width="var(--width)" d="M257.841 206.478C266.3 206.478 275.54 209.075 285.301 214.205C309.08 226.695 329.477 269.516 339.768 294.664C350.062 269.516 370.451 226.695 394.234 214.205C403.995 209.075 413.235 206.478 421.69 206.478C438.773 206.478 448.418 216.626 453.605 222.075L454.686 223.205C458.686 227.303 464.38 234.359 468.519 239.65C480.679 227.941 508.683 204.425 537.716 204.163H538.365C553.241 204.163 564.643 208.798 572.254 217.936C584.034 232.084 582.026 251.423 580.619 259.083C579.197 266.81 576.134 275.115 572.944 282.344C572.944 282.344 667.612 227.412 677.726 167.373C689.375 98.2326 621.755 51.4936 562.977 24.4576C544.212 15.8258 516.519 6.96516 497.694 1.34328C511.126 24.8366 519.461 59.2509 493.146 87.9158C479.962 102.278 463.295 109.87 444.947 109.87C412.101 109.87 379.466 84.9022 375.109 56.44C372.283 37.9981 370.752 16.7415 369.93 0.386292L362.146 14.0694C360.784 16.4601 358.206 18.0138 355.474 17.8599L339.617 17.5447L324.062 17.8599C321.232 17.9838 318.747 16.4601 317.389 14.0694L309.605 0.386292C308.783 16.7378 307.252 37.9981 304.426 56.44C300.065 84.9022 267.434 109.87 234.588 109.87C216.24 109.87 199.577 102.278 186.393 87.9158C160.077 59.2472 168.413 24.8366 181.848 1.34328C163.023 6.96141 135.327 15.8221 116.562 24.4576C57.7839 51.4936 -9.83629 98.2363 1.81279 167.373C11.9307 227.412 74.3981 266.123 106.594 282.344C103.408 275.115 100.346 266.806 98.9235 259.083C97.5124 251.423 95.5008 232.084 107.281 217.94C114.892 208.798 126.297 204.163 141.178 204.163H141.827C170.86 204.425 198.864 227.941 211.023 239.65C215.163 234.359 220.852 227.303 224.857 223.201L225.945 222.068C231.12 216.622 240.769 206.478 257.841 206.478Z" />
      </pattern>
    </defs>
    <rect fill="url(#pattern)" width="100%" height="100%"/> 
  </svg>


<style>
  @property --width {
    syntax: '<number>'; 
    initial-value: 0;
    inherits: false;
  }
  @property --opacity {
    syntax: '<number>'; 
    initial-value: 0;
    inherits: false;
  }

  @keyframes batGlow {
      10%{--width: 6; --opacity: 0.5}
      70%{--width: 2; --opacity: 0.5}
      80%{--width: 5; --opacity: 0.5}
      100%{--width: 0; --opacity: 0}
  }

  #glowingBat.showAnimation, #thicken.showAnimation {
    animation: 3s batGlow ease-out;
  }

</style>


<script >
  const trigger = document.getElementById("crimeInGotham") as HTMLButtonElement
  const items = ["thicken", "glowingBat"].map(item => document.getElementById(item) as HTMLElement)
  trigger.onclick = (e) => {
    items.forEach((item) => {
      item.classList.add('showAnimation')
      console.log(item)
    });
    const animationDuration = parseFloat(getComputedStyle(items[0]).animationDuration) * 1000
    setTimeout(() => {
      items.forEach((item) => item.classList.remove('showAnimation'));
    }, animationDuration);
    console.log("Ended Animation")

  }
  
</script>